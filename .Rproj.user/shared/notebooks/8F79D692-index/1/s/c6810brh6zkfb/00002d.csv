"0",""
"0","m <- leaflet(data = vendors, "
"0","             height = ""90vh"", "
"0","             width = ""100%"", "
"0","             elementId = ""vendor-map"","
"0","             options = leafletOptions("
"0","               zoomSnap = 0.5,"
"0","               zoomDelta = 0.5,"
"0","               minZoom = 9.5,"
"0","               wheelPxPerZoomLevel = 90"
"0","               )"
"0","             ) %>%"
"0","  mapOptions(zoomToLimits = ""first"") %>%"
"0","  addTiles(urlTemplate = cpaltemplates::cpal_mapbox, attribution = cpaltemplates::cpal_leaflet) %>%"
"0","  addPolygons("
"0","    data = dallas_co,"
"0","    fillColor = ""#333333"","
"0","    fillOpacity = 0.03, weight = 2, color = ""#333333"","
"0","    smoothFactor = 1,"
"0","    options = pathOptions(clickable = F, interactive = F)"
"0","  )"
"2","Warning: sf layer has inconsistent datum (+proj=longlat +datum=NAD83 +no_defs).
Need '+proj=longlat +datum=WGS84'"
"0","for(i in seq_along(levels(vendors$HUB))) {"
"0","  hub <- levels(vendors$HUB)[i]"
"0","  m <- m %>%"
"0","    addCircleMarkers("
"0","      data = vendors %>% filter(HUB == hub),"
"0","      group = hub,"
"0","      radius = 5,"
"0","      stroke = FALSE,"
"0","      color = map_palette[i],"
"0","      fillOpacity = 0.7,"
"0","      clusterOptions = markerClusterOptions("
"0","        maxClusterRadius = 60,"
"0","        disableClusteringAtZoom = 12"
"0","      ),"
"0","      label = ~`Company Name`,"
"0","      popup = ~paste0("
"0","        ""<b>"", `Company Name`, ""</b><br/>"","
"0","        ""<i>"", HUB_desc, ""</i><br/>"","
"0","        address, ""<br/>"","
"0","        Phone, ""<br/>"","
"0","        Email"
"0","      )"
"0","    )"
"0","}"
"2","Warning: sf layer has inconsistent datum (+proj=longlat +datum=NAD83 +no_defs).
Need '+proj=longlat +datum=WGS84'"
"2","Warning: sf layer has inconsistent datum (+proj=longlat +datum=NAD83 +no_defs).
Need '+proj=longlat +datum=WGS84'"
"2","Warning: sf layer has inconsistent datum (+proj=longlat +datum=NAD83 +no_defs).
Need '+proj=longlat +datum=WGS84'"
"2","Warning: sf layer has inconsistent datum (+proj=longlat +datum=NAD83 +no_defs).
Need '+proj=longlat +datum=WGS84'"
"2","Warning: sf layer has inconsistent datum (+proj=longlat +datum=NAD83 +no_defs).
Need '+proj=longlat +datum=WGS84'"
"2","Warning: sf layer has inconsistent datum (+proj=longlat +datum=NAD83 +no_defs).
Need '+proj=longlat +datum=WGS84'"
"0","m <- m %>%"
"0","  addLegend("
"0","    ""topright"","
"0","    pal = colorFactor(map_palette, levels(vendors$HUB), na.color=NULL, ordered = TRUE),"
"0","    values = ~HUB,"
"0","    title = ""HUB Eligibility"","
"0","    opacity = 0.7"
"0","  ) %>%"
"0","  addLayersControl("
"0","    overlayGroups = levels(vendors$HUB),"
"0","    position = ""topleft"","
"0","    options = layersControlOptions(collapsed = FALSE)"
"0","  ) %>%"
"0","  setMaxBounds(expanded_bounds[1], expanded_bounds[2], expanded_bounds[3], expanded_bounds[4])"
"0",""
"0","m"
